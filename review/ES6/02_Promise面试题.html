<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>promise_面试题</title>
</head>
<body>

<!-- 面试题1 -->
<!--<script type="text/javascript">
  // 宏: 1(0s)
  // 微: 2  4
  // 3 2 4 1

  setTimeout(()=>{
    console.log(1)
  },0)
  /*then中的回调  什么时候回放入微队列
     1. then方法要被调用(异步线程持有回调)
     2. 调用then方法的promise要确定状态 (异步线程达到将回调放入异步队列的条件)*/
  Promise.resolve().then(()=>{
    console.log(2)
  })
  Promise.resolve().then(()=>{
    console.log(4)
  })
  console.log(3)
</script>-->


<!-- 面试题2 -->
<!--<script type="text/javascript">
    // 宏: 1(0s)
    // 微: 3* 4
    // 2  5  3  4 1
  setTimeout(() => {
    console.log(1)
  }, 0)
  new Promise((resolve) => {
    console.log(2)
    resolve()
  }).then(() => {
    console.log(3)
  }).then(() => {
    console.log(4)
  })
  console.log(5)
</script>-->

<!-- 面试题3 -->
<!--<script type="text/javascript">
  // 宏： 5（0s）
  // 微： arg arg
  //  3  7 4  1 2  5
  const first = () => (new Promise((resolve, reject) => {
    console.log(3)
    let p = new Promise((resolve, reject) => {
      console.log(7)
      setTimeout(() => {
        console.log(5)
        resolve(6)
      }, 0)
      resolve(1)
    })
    resolve(2)
    p.then((arg) => {
      console.log(arg)
    })

  }))

  first().then((arg) => {
    console.log(arg)
  })
  console.log(4)
</script>-->


<!-- 面试题4 -->
<script type="text/javascript">
  setTimeout(() => {
    console.log("0")
  }, 0)
  new Promise((resolve,reject)=>{
    console.log("1")
    resolve()
  }).then(()=>{        
    console.log("2")
    new Promise((resolve,reject)=>{
      console.log("3")
      resolve()
    }).then(()=>{      
      console.log("4")
    }).then(()=>{       
      console.log("5")
    })
  }).then(()=>{  
    console.log("6")
  })

  new Promise((resolve,reject)=>{
    console.log("7")
    resolve()
  }).then(()=>{         
    console.log("8")
  })

</script>

</body>
</html>